<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Crypto Widget</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #fff;
      width: 1920px;
      height: 50px;
      overflow: hidden;
    }
    .container {
      display: flex;
      height: 100%;
    }
    .spot {
      width: 100px;
      background: #fff;
      border-right: 1px solid #ddd;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
    }
    .spot img {
      height: 30px;
      display: block;
    }
    .ticker-wrap {
      flex-grow: 1;
      overflow: hidden;
      position: relative;
      height: 100%;
      display: flex;
      align-items: center;
    }
    .ticker {
      display: flex;
      white-space: nowrap;
      animation: slide 10s linear infinite;
    }
    @keyframes slide {
      0% { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }
    .coin {
      display: inline-flex;
      align-items: center;
      margin: 0 30px;
      font-size: 16px;
      text-decoration: none;
      color: #000;
    }
    .coin img {
      width: 20px;
      height: 20px;
      margin-right: 6px;
    }
    .footer {
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="spot">
      <a href="https://spottrading.com" target="_blank">
        <img src="spot-logo.png" alt="Spot Logo" />
      </a>
    </div>
    <div class="ticker-wrap">
      <div id="ticker" class="ticker"></div>
    </div>
  </div>

  <script>
    const coins = ["bitcoin", "ethereum", "binancecoin", "solana", "ripple", "dogecoin"];
    const coinInfo = {
      bitcoin: { symbol: "BTC" },
      ethereum: { symbol: "ETH" },
      binancecoin: { symbol: "BNB" },
      solana: { symbol: "SOL" },
      ripple: { symbol: "XRP" },
      dogecoin: { symbol: "DOGE" }
    };

    async function fetchPrices() {
      try {
        const res = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${coins.join(",")}&vs_currencies=usd`);
        const data = await res.json();
        const ticker = document.getElementById("ticker");
        ticker.innerHTML = "";

        coins.forEach((coinKey) => {
          const info = coinInfo[coinKey];
          if (!info || !data[coinKey]) return;

          const price = data[coinKey].usd.toFixed(2);
          const iconUrl = `https://coinicons-api.vercel.app/api/icon/${info.symbol.toLowerCase()}`;

          const coinEl = document.createElement("a");
          coinEl.className = "coin";
          coinEl.href = "https://spottrading.com";
          coinEl.target = "_blank";
          coinEl.innerHTML = `
            <img src="${iconUrl}" alt="${info.symbol}" />
            ${info.symbol}: $${price}
          `;
          ticker.appendChild(coinEl);
        });
      } catch (err) {
        console.error("Error fetching prices:", err);
      }
    }

    fetchPrices();
    setInterval(fetchPrices, 15000);
  </script>
</body>
</html>
